import './polyfills.server.mjs';
import{A as $,B as w,C as U,D,E,F as u,G as d,H as A,I as T,J as N,K as j,L as R,M as I,N as k,O as p,P as z,Q as de,R as W,W as ue,Y as Q,_ as he,a as C,aa as pe,b as G,ba as _e,c as Y,ca as fe,d as K,da as ge,e as Z,ea as me,f as X,fa as be,g as ee,ga as ye,h as te,i as ie,j as m,ja as ve,k as O,l as ne,m as se,n as l,o as L,p as oe,pa as we,q as h,r as ae,s as M,t as H,u as c,v as b,w as V,x as re,y as le,z as ce}from"./chunk-EPZE7J2E.mjs";function x(t){t||(ae(x),t=l(M));let e=new C(o=>t.onDestroy(o.next.bind(o)));return o=>o.pipe(m(e))}var Te={animation:!0,transitionTimerDelayMs:5},Se=(()=>{let e=class e{constructor(){this.animation=Te.animation}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pe=(()=>{let e=class e{constructor(){this._ngbConfig=l(Se),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Be(t){let{transitionDelay:e,transitionDuration:o}=window.getComputedStyle(t),i=parseFloat(e),n=parseFloat(o);return(i+n)*1e3}function Ge(t){return typeof t=="string"}function Le(t){return(t||document.body).getBoundingClientRect()}function He(t){return e=>new C(o=>{let i=a=>t.run(()=>o.next(a)),n=a=>t.run(()=>o.error(a)),s=()=>t.run(()=>o.complete());return e.subscribe({next:i,error:n,complete:s})})}var Ve=()=>{},{transitionTimerDelayMs:$e}=Te,F=new Map,Ue=(t,e,o,i)=>{let n=i.context||{},s=F.get(e);if(s)switch(i.runningTransition){case"continue":return Y;case"stop":t.run(()=>s.transition$.complete()),n=Object.assign(s.context,n),F.delete(e)}let a=o(e,i.animation,n)||Ve;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>a()),K(void 0).pipe(He(t));let r=new G,g=new G,f=r.pipe(ie(!0));F.set(e,{transition$:r,complete:()=>{g.next(),g.complete()},context:n});let S=Be(e);return t.runOutsideAngular(()=>{let B=Z(e,"transitionend").pipe(m(f),ee(({target:ke})=>ke===e)),v=X(S+$e).pipe(m(f));te(v,B,g).pipe(m(f)).subscribe(()=>{F.delete(e),t.run(()=>{a(),r.next(),r.complete()})})}),r.asObservable()};function je(t,e){if(typeof navigator>"u")return"0px";let{classList:o}=t,i=o.contains("show");i||o.add("show"),t.style[e]="";let n=t.getBoundingClientRect()[e]+"px";return i||o.remove("show"),n}var ze=(t,e,o)=>{let{direction:i,maxSize:n,dimension:s}=o,{classList:a}=t;function r(){a.add("collapse"),i==="show"?a.add("show"):a.remove("show")}if(!e){r();return}return n||(n=je(t,s),o.maxSize=n,t.style[s]=i!=="show"?n:"0px",a.remove("collapse","collapsing","show"),Le(t),a.add("collapsing")),t.style[s]=i==="show"?n:"0px",()=>{r(),a.remove("collapsing"),t.style[s]=""}},We=(()=>{let e=class e{constructor(){this._ngbConfig=l(Se),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),De=(()=>{let e=class e{constructor(){this._config=l(We),this._element=l(H),this._zone=l(le),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new c,this.horizontal=this._config.horizontal,this.shown=new c,this.hidden=new c}set collapsed(i){this._isCollapsed!==i&&(this._isCollapsed=i,this._afterInit&&this._runTransitionWithEvents(i,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(i=this._isCollapsed){this.collapsed=!i,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(i,n){return Ue(this._zone,this._element.nativeElement,ze,{animation:n,runningTransition:"stop",context:{direction:i?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(i,n){this._runTransition(i,n).subscribe(()=>{i?this.hidden.emit():this.shown.emit()})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(n,s){n&2&&E("collapse-horizontal",s.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0});let t=e;return t})(),Qe=0,Ce=(()=>{let e=class e{constructor(){this._vcr=l(ce),this._element=l(H).nativeElement,this._item=l(_),this._viewRef=null}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){if(!this._viewRef){this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges();for(let i of this._viewRef.rootNodes)this._element.appendChild(i)}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbAccordionBody",""]],contentQueries:function(n,s,a){if(n&1&&R(a,re,7),n&2){let r;I(r=k())&&(s._bodyTpl=r.first)}},hostAttrs:[1,"accordion-body"],standalone:!0});let t=e;return t})(),J=(()=>{let e=class e{constructor(){this.item=l(_),this.ngbCollapse=l(De)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(n,s){n&2&&(T("id",s.item.collapseId),U("aria-labelledby",s.item.toggleId))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[$([De])]});let t=e;return t})(),Je=(()=>{let e=class e{constructor(){this.item=l(_),this.accordion=l(P)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(n,s){n&1&&N("click",function(){return!s.item.disabled&&s.accordion.toggle(s.item.id)}),n&2&&(T("id",s.item.toggleId),U("aria-controls",s.item.collapseId)("aria-expanded",!s.item.collapsed),E("collapsed",s.item.collapsed))},standalone:!0});let t=e;return t})(),Oe=(()=>{let e=class e{constructor(){this.item=l(_)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(n,s){n&2&&T("disabled",s.item.disabled)},standalone:!0,features:[$([Je])]});let t=e;return t})(),Me=(()=>{let e=class e{constructor(){this.item=l(_)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(n,s){n&2&&E("collapsed",s.item.collapsed)},standalone:!0});let t=e;return t})(),_=(()=>{let e=class e{constructor(){this._accordion=l(P),this._cd=l(Q),this._destroyRef=l(M),this._collapsed=!0,this._id=`ngb-accordion-item-${Qe++}`,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new c,this.shown=new c,this.hide=new c,this.hidden=new c}set id(i){Ge(i)&&i!==""&&(this._id=i)}set destroyOnHide(i){this._destroyOnHide=i}get destroyOnHide(){return this._destroyOnHide===void 0?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(i){i?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){let{ngbCollapse:i}=this._collapse;i.animation=!1,i.collapsed=this.collapsed,i.animation=this._accordion.animation,i.hidden.pipe(x(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),i.shown.pipe(x(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbAccordionItem",""]],contentQueries:function(n,s,a){if(n&1&&R(a,J,7),n&2){let r;I(r=k())&&(s._collapse=r.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(n,s){n&2&&T("id",s.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0});let t=e;return t})(),P=(()=>{let e=class e{constructor(){this._config=l(Pe),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new c,this.shown=new c,this.hide=new c,this.hidden=new c}toggle(i){this._getItem(i)?.toggle()}expand(i){this._getItem(i)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(i=>!i.collapsed)||this._items.first.expand():this._items.forEach(i=>i.expand()))}collapse(i){this._getItem(i)?.collapse()}collapseAll(){this._items?.forEach(i=>i.collapse())}isExpanded(i){let n=this._getItem(i);return n?!n.collapsed:!1}_ensureCanExpand(i){return this.closeOthers?this._items?(this._items.find(n=>!n.collapsed&&i!==n)?.collapse(),!0):this._anItemWasAlreadyExpandedDuringInitialisation?!1:(this._anItemWasAlreadyExpandedDuringInitialisation=!0,!0):!0}_getItem(i){return this._items?.find(n=>n.id===i)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=h({type:e,selectors:[["","ngbAccordion",""]],contentQueries:function(n,s,a){if(n&1&&R(a,_,4),n&2){let r;I(r=k())&&(s._items=r)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0});let t=e;return t})();var Ee=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=ne({});let t=e;return t})();var xi=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var Fi=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var Pi=new Date(1882,10,12),Bi=new Date(2174,10,25);var Gi=1e3*60*60*24;var q=1080,qe=24*q,Ye=12*q+793,Li=29*qe+Ye,Hi=11*q+204;var Vi=new se("live announcer delay",{providedIn:"root",factory:()=>100});var y={GoogleAPIKey:"",biocacheURL:"https://biocache.ala.org.au/ws/occurrences/facets",traitURL:"https://bie.ala.org.au/externalSite/ausTraitsSummary",speciesURL:"https://api.ala.org.au/species/species/lookup/bulk",geocodeURL:"https://maps.googleapis.com/maps/api/geocode/json"};function Ze(t,e){if(t&1&&p(0),t&2){let o=j().$implicit;de("",o.trait_name," Min:",o.min," Max:",o.max," Mean:",o.mean," Units:",o.unit,"")}}function Xe(t,e){t&1&&(u(0,"div",10),w(1,Ze,1,5,"ng-template"),d())}function et(t,e){if(t&1&&(u(0,"div",5)(1,"h2",6)(2,"button",7),p(3),d()(),u(4,"div",8),w(5,Xe,2,0,"div",9),d()()),t&2){let o=e.$implicit;b(3),z(o.scientificName),b(2),D("ngForOf",o.traits)}}var Ae=(()=>{class t{httpClient;title="AnaloguePlants";constructor(o){this.httpClient=o}plantList=[];getPlantsForLocation(){var o=document.getElementById("location")?.value,i=document.getElementById("radius")?.valueAsNumber;this.httpClient.get(`${y.geocodeURL}`,{params:{key:y.GoogleAPIKey,address:o}}).subscribe(n=>{var s={params:{q:"kingdom:Plantae",lat:n.results[0].geometry.location.lat,lon:n.results[0].geometry.location.lng,radius:i,facets:"scientificName",flimit:2}};debugger;this.httpClient.get(`${y.biocacheURL}`,s).subscribe(a=>{this.httpClient.post(y.speciesURL,{vernacular:!1,names:a[0].fieldResult.map(r=>r.label)}).subscribe(r=>{let g=[];for(let f of a[0].fieldResult){let S={scientificName:f.label,traits:[]};g.push(S);let B=r.find(v=>v.name===f.label)?.name??"";this.httpClient.get(`${y.traitURL}`,{params:{s:f.label,guid:B}}).subscribe(v=>{S.traits=v.numeric_traits})}this.plantList=g})})})}static \u0275fac=function(i){return new(i||t)(V(fe))};static \u0275cmp=L({type:t,selectors:[["app-root"]],standalone:!0,features:[W],decls:16,vars:2,consts:[["id","location","type","text"],["id","radius","type","number"],[3,"click"],["ngbAccordion","",3,"closeOthers"],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody","",4,"ngFor","ngForOf"],["ngbAccordionBody",""]],template:function(i,n){i&1&&(u(0,"div")(1,"h2"),p(2,"Plant Finder"),d(),p(3," Select a location and enter a radius (in kilometers) to find plants in the area. "),u(4,"div")(5,"label"),p(6,"Location: "),d(),A(7,"input",0),u(8,"div")(9,"label"),p(10,"Radius: "),d(),A(11,"input",1),d(),u(12,"button",2),N("click",function(){return n.getPlantsForLocation()}),p(13,"Submit"),d(),u(14,"div",3),w(15,et,6,2,"div",4),d()()()),i&2&&(b(14),D("closeOthers",!0),b(),D("ngForOf",n.plantList))},dependencies:[Ee,Oe,P,_,Me,Ce,J,_e,pe]})}return t})();var Ne=[];var Re={providers:[ge(me()),ue({eventCoalescing:!0}),we(Ne),ye()]};var tt={providers:[ve()]},Ie=he(Re,tt);var it=()=>be(Ae,Ie),hn=it;export{hn as a};
